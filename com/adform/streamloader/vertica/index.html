<!DOCTYPE html ><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/><title>stream-loader  - com.adform.streamloader.vertica</title><meta content="stream - loader - com.adform.streamloader.vertica" name="description"/><meta content="stream loader com.adform.streamloader.vertica" name="keywords"/><meta http-equiv="content-type" content="text/html; charset=UTF-8"/><link href="../../../../lib/index.css" media="screen" type="text/css" rel="stylesheet"/><link href="../../../../lib/template.css" media="screen" type="text/css" rel="stylesheet"/><link href="../../../../lib/print.css" media="print" type="text/css" rel="stylesheet"/><link href="../../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css"/><script type="text/javascript" src="../../../../lib/jquery.min.js"></script><script type="text/javascript" src="../../../../lib/index.js"></script><script type="text/javascript" src="../../../../index.js"></script><script type="text/javascript" src="../../../../lib/scheduler.js"></script><script type="text/javascript" src="../../../../lib/template.js"></script><script type="text/javascript">/* this variable can be used by the JS to determine the path to the root document */
var toRoot = '../../../../';</script></head><body><div id="search"><span id="doc-title">stream-loader<span id="doc-version"></span></span> <span class="close-results"><span class="left">&lt;</span> Back</span><div id="textfilter"><span class="input"><input autocapitalize="none" placeholder="Search" id="index-input" type="text" accesskey="/"/><i class="clear material-icons"></i><i id="search-icon" class="material-icons"></i></span></div></div><div id="search-results"><div id="search-progress"><div id="progress-fill"></div></div><div id="results-content"><div id="entity-results"></div><div id="member-results"></div></div></div><div id="content-scroll-container" style="-webkit-overflow-scrolling: touch;"><div id="content-container" style="-webkit-overflow-scrolling: touch;"><div id="subpackage-spacer"><div id="packages"><h1>Packages</h1><ul><li class="indented0 " name="_root_.root" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="_root_" class="anchorToMember"></a><a id="root:_root_" class="anchorToMember"></a> <span class="permalink"><a href="../../../../index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../../index.html" title=""><span class="name">root</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../../index.html" name="_root_" id="_root_" class="extype">root</a></dd></dl></div></li><li class="indented1 " name="_root_.com" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="com" class="anchorToMember"></a><a id="com:com" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../index.html" title=""><span class="name">com</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../../index.html" name="_root_" id="_root_" class="extype">root</a></dd></dl></div></li><li class="indented2 " name="com.adform" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="adform" class="anchorToMember"></a><a id="adform:adform" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/adform/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../index.html" title=""><span class="name">adform</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../index.html" name="com" id="com" class="extype">com</a></dd></dl></div></li><li class="indented3 " name="com.adform.streamloader" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="streamloader" class="anchorToMember"></a><a id="streamloader:streamloader" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/adform/streamloader/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../index.html" title="The entry point of the stream loader library is the StreamLoader class, which requires a KafkaSource and a Sink."><span class="name">streamloader</span></a></span><p class="shortcomment cmt">The entry point of the stream loader library is the <a href="../StreamLoader.html" name="com.adform.streamloader.StreamLoader" id="com.adform.streamloader.StreamLoader" class="extype">StreamLoader</a> class, which requires a <a href="../source/KafkaSource.html" name="com.adform.streamloader.source.KafkaSource" id="com.adform.streamloader.source.KafkaSource" class="extype">KafkaSource</a> and a <a href="../sink/Sink.html" name="com.adform.streamloader.sink.Sink" id="com.adform.streamloader.sink.Sink" class="extype">Sink</a>.</p><div class="fullcomment"><div class="comment cmt"><p>The entry point of the stream loader library is the <a href="../StreamLoader.html" name="com.adform.streamloader.StreamLoader" id="com.adform.streamloader.StreamLoader" class="extype">StreamLoader</a> class, which requires a <a href="../source/KafkaSource.html" name="com.adform.streamloader.source.KafkaSource" id="com.adform.streamloader.source.KafkaSource" class="extype">KafkaSource</a> and a <a href="../sink/Sink.html" name="com.adform.streamloader.sink.Sink" id="com.adform.streamloader.sink.Sink" class="extype">Sink</a>. Once started
it will subscribe to the provided topics and will start polling and sinking records.
The sink has to be able to persist records and to look up committed offsets (technically this is optional, but without it there would
be no way to provide any delivery guarantees). A large class of sinks are batch based, implemented as <a href="../sink/batch/RecordBatchingSink.html" name="com.adform.streamloader.sink.batch.RecordBatchingSink" id="com.adform.streamloader.sink.batch.RecordBatchingSink" class="extype">RecordBatchingSink</a>.
This sink accumulate batches of records using some <a href="../sink/batch/RecordBatcher.html" name="com.adform.streamloader.sink.batch.RecordBatcher" id="com.adform.streamloader.sink.batch.RecordBatcher" class="extype">RecordBatcher</a> and once ready, stores them to some underlying <a href="../sink/batch/storage/RecordBatchStorage.html" name="com.adform.streamloader.sink.batch.storage.RecordBatchStorage" id="com.adform.streamloader.sink.batch.storage.RecordBatchStorage" class="extype">RecordBatchStorage</a>.
A common type of batch is file based, i.e. a batcher might write records to a temporary file and once the file is full
the sink commits the file to some underlying storage, such as a database or a distributed file system like HDFS.</p><p>A sketch of the class hierarchy illustrating the main classes and interfaces can be seen below.</p><p><br />
<object type="image/svg+xml" data="../../../diagrams/core_class_hierarchy.svg" style="display: block; margin: auto"></object>
<br /></p><p>For concrete storage implementations see the <a href="../clickhouse/index.html" name="com.adform.streamloader.clickhouse" id="com.adform.streamloader.clickhouse" class="extype">clickhouse</a>, <a href="../hadoop/index.html" name="com.adform.streamloader.hadoop" id="com.adform.streamloader.hadoop" class="extype">hadoop</a>, <a href="../s3/index.html" name="com.adform.streamloader.s3" id="com.adform.streamloader.s3" class="extype">s3</a> and <a href="" name="com.adform.streamloader.vertica" id="com.adform.streamloader.vertica" class="extype">vertica</a> packages.
They also contain more file builder implementations than just the <a href="../sink/encoding/csv/CsvFileBuilder.html" name="com.adform.streamloader.sink.encoding.csv.CsvFileBuilder" id="com.adform.streamloader.sink.encoding.csv.CsvFileBuilder" class="extype">CsvFileBuilder</a> included in the core library.</p></div><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../index.html" name="com.adform" id="com.adform" class="extype">adform</a></dd></dl></div></li><li class="indented4 " name="com.adform.streamloader.clickhouse" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="clickhouse" class="anchorToMember"></a><a id="clickhouse:clickhouse" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/adform/streamloader/clickhouse/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../clickhouse/index.html" title=""><span class="name">clickhouse</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="com.adform.streamloader" id="com.adform.streamloader" class="extype">streamloader</a></dd></dl></div></li><li class="indented4 " name="com.adform.streamloader.hadoop" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="hadoop" class="anchorToMember"></a><a id="hadoop:hadoop" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/adform/streamloader/hadoop/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../hadoop/index.html" title=""><span class="name">hadoop</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="com.adform.streamloader" id="com.adform.streamloader" class="extype">streamloader</a></dd></dl></div></li><li class="indented4 " name="com.adform.streamloader.model" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="model" class="anchorToMember"></a><a id="model:model" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/adform/streamloader/model/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../model/index.html" title=""><span class="name">model</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="com.adform.streamloader" id="com.adform.streamloader" class="extype">streamloader</a></dd></dl></div></li><li class="indented4 " name="com.adform.streamloader.s3" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="s3" class="anchorToMember"></a><a id="s3:s3" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/adform/streamloader/s3/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../s3/index.html" title=""><span class="name">s3</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="com.adform.streamloader" id="com.adform.streamloader" class="extype">streamloader</a></dd></dl></div></li><li class="indented4 " name="com.adform.streamloader.sink" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="sink" class="anchorToMember"></a><a id="sink:sink" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/adform/streamloader/sink/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../sink/index.html" title=""><span class="name">sink</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="com.adform.streamloader" id="com.adform.streamloader" class="extype">streamloader</a></dd></dl></div></li><li class="indented4 " name="com.adform.streamloader.source" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="source" class="anchorToMember"></a><a id="source:source" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/adform/streamloader/source/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../source/index.html" title=""><span class="name">source</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="com.adform.streamloader" id="com.adform.streamloader" class="extype">streamloader</a></dd></dl></div></li><li class="indented4 " name="com.adform.streamloader.util" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="util" class="anchorToMember"></a><a id="util:util" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/adform/streamloader/util/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../util/index.html" title=""><span class="name">util</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="com.adform.streamloader" id="com.adform.streamloader" class="extype">streamloader</a></dd></dl></div></li><li class="indented4 current" name="com.adform.streamloader.vertica" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="vertica" class="anchorToMember"></a><a id="vertica:vertica" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/adform/streamloader/vertica/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><span class="name">vertica</span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="com.adform.streamloader" id="com.adform.streamloader" class="extype">streamloader</a></dd></dl></div></li><li class="indented5 " name="com.adform.streamloader.vertica.file" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="file" class="anchorToMember"></a><a id="file:file" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/adform/streamloader/vertica/file/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="file/index.html" title=""><span class="name">file</span></a></span></li><li class="current-entities indented4"><a href="ExternalOffsetVerticaFileBatcher$.html" title="" class="object"></a> <a href="ExternalOffsetVerticaFileBatcher.html" title="A file based Vertica record batcher that generates a new file ID before starting a new batch from a given ID sequence, formats records using a given formatter and writes them to files." class="class"></a><a href="ExternalOffsetVerticaFileBatcher.html" title="A file based Vertica record batcher that generates a new file ID before starting a new batch from a given ID sequence, formats records using a given formatter and writes them to files.">ExternalOffsetVerticaFileBatcher</a></li><li class="current-entities indented4"><span class="separator"></span> <a href="ExternalOffsetVerticaFileRecordBatch.html" title="A file based Vertica record batch with an extra pre-generated file ID that is used as a foreign key when storing the records and offsets to separate tables." class="class"></a><a href="ExternalOffsetVerticaFileRecordBatch.html" title="A file based Vertica record batch with an extra pre-generated file ID that is used as a foreign key when storing the records and offsets to separate tables.">ExternalOffsetVerticaFileRecordBatch</a></li><li class="current-entities indented4"><a href="ExternalOffsetVerticaFileStorage$.html" title="" class="object"></a> <a href="ExternalOffsetVerticaFileStorage.html" title="A Vertica file storage implementation that loads data to some table and commits offsets to a separate dedicated offset table." class="class"></a><a href="ExternalOffsetVerticaFileStorage.html" title="A Vertica file storage implementation that loads data to some table and commits offsets to a separate dedicated offset table.">ExternalOffsetVerticaFileStorage</a></li><li class="current-entities indented4"><span class="separator"></span> <a href="InRowOffsetVerticaFileRecordBatch.html" title="" class="class"></a><a href="InRowOffsetVerticaFileRecordBatch.html" title="">InRowOffsetVerticaFileRecordBatch</a></li><li class="current-entities indented4"><a href="InRowOffsetVerticaFileRecordBatcher$.html" title="" class="object"></a> <a href="InRowOffsetVerticaFileRecordBatcher.html" title="A record batcher that passes records through a custom record formatter and forms batches by writing the resulting records to files using a provided file builder." class="class"></a><a href="InRowOffsetVerticaFileRecordBatcher.html" title="A record batcher that passes records through a custom record formatter and forms batches by writing the resulting records to files using a provided file builder.">InRowOffsetVerticaFileRecordBatcher</a></li><li class="current-entities indented4"><a href="InRowOffsetVerticaFileStorage$.html" title="" class="object"></a> <a href="InRowOffsetVerticaFileStorage.html" title="A Vertica storage implementation, stores offsets in rows of data." class="class"></a><a href="InRowOffsetVerticaFileStorage.html" title="A Vertica storage implementation, stores offsets in rows of data.">InRowOffsetVerticaFileStorage</a></li><li class="current-entities indented4"><a href="VerticaLoadMethod$.html" title="" class="object"></a> <a href="VerticaLoadMethod.html" title="" class="trait"></a><a href="VerticaLoadMethod.html" title="">VerticaLoadMethod</a></li><li class="current-entities indented4"><span class="separator"></span> <a href="VerticaRecordBatch.html" title="A record batch that can be loaded to Vertica, implementers must define a COPY statement generator method." class="trait"></a><a href="VerticaRecordBatch.html" title="A record batch that can be loaded to Vertica, implementers must define a COPY statement generator method.">VerticaRecordBatch</a></li></ul></div></div><div id="content"><body class="package value"><div id="definition"><div class="big-circle package">p</div><p id="owner"><a href="../../../index.html" name="com" id="com" class="extype">com</a>.<a href="../../index.html" name="com.adform" id="com.adform" class="extype">adform</a>.<a href="../index.html" name="com.adform.streamloader" id="com.adform.streamloader" class="extype">streamloader</a></p><h1>vertica<span class="permalink"><a href="../../../../com/adform/streamloader/vertica/index.html" title="Permalink"><i class="material-icons"></i></a></span></h1></div><h4 id="signature" class="signature"><span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><span class="name">vertica</span></span></h4><div id="comment" class="fullcommenttop"></div><div id="mbrsel"><div class="toggle"></div><div id="memberfilter"><i class="material-icons arrow"></i><span class="input"><input placeholder="Filter all members" id="mbrsel-input" type="text" accesskey="/"/></span><i class="clear material-icons"></i></div><div id="filterby"><div id="order"><span class="filtertype">Ordering</span><ol><li class="alpha in"><span>Alphabetic</span></li></ol></div><div id="visbl"><span class="filtertype">Visibility</span><ol><li class="public in"><span>Public</span></li><li class="protected out"><span>Protected</span></li></ol></div></div></div><div id="template"><div id="allMembers"><div id="packages" class="package members"><h3>Package Members</h3><ol><li class="indented0 " name="com.adform.streamloader.vertica.file" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="file" class="anchorToMember"></a><a id="file:file" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/adform/streamloader/vertica/file/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="file/index.html" title=""><span class="name">file</span></a></span></li></ol></div><div id="types" class="types members"><h3>Type Members</h3><ol><li class="indented0 " name="com.adform.streamloader.vertica.ExternalOffsetVerticaFileBatcher" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="ExternalOffsetVerticaFileBatcher[R]extendsRecordBatcher[com.adform.streamloader.vertica.ExternalOffsetVerticaFileRecordBatch]withLogging" class="anchorToMember"></a><a id="ExternalOffsetVerticaFileBatcher[R]:ExternalOffsetVerticaFileBatcher[R]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/adform/streamloader/vertica/ExternalOffsetVerticaFileBatcher.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="ExternalOffsetVerticaFileBatcher.html" title="A file based Vertica record batcher that generates a new file ID before starting a new batch from a given ID sequence, formats records using a given formatter and writes them to files."><span class="name">ExternalOffsetVerticaFileBatcher</span></a><span class="tparams">[<span name="R">R</span>]</span><span class="result"> extends <a href="../sink/batch/RecordBatcher.html" name="com.adform.streamloader.sink.batch.RecordBatcher" id="com.adform.streamloader.sink.batch.RecordBatcher" class="extype">RecordBatcher</a>[<a href="ExternalOffsetVerticaFileRecordBatch.html" name="com.adform.streamloader.vertica.ExternalOffsetVerticaFileRecordBatch" id="com.adform.streamloader.vertica.ExternalOffsetVerticaFileRecordBatch" class="extype">ExternalOffsetVerticaFileRecordBatch</a>] with <a href="../util/Logging.html" name="com.adform.streamloader.util.Logging" id="com.adform.streamloader.util.Logging" class="extype">Logging</a></span></span><p class="shortcomment cmt">A file based Vertica record batcher that generates a new file ID before starting a new batch from
a given ID sequence, formats records using a given formatter and writes them to files.</p><div class="fullcomment"><div class="comment cmt"><p>A file based Vertica record batcher that generates a new file ID before starting a new batch from
a given ID sequence, formats records using a given formatter and writes them to files.</p><p>A <code>SEQUENCE</code> is required for generating the <code>_file_id</code> foreign key values, create it as follows:</p><pre>CREATE SEQUENCE file_id_sequence;</pre></div><dl class="paramcmts block"><dt class="tparam">R</dt><dd class="cmt"><p>Type of records written to files.</p></dd></dl></div></li><li class="indented0 " name="com.adform.streamloader.vertica.ExternalOffsetVerticaFileRecordBatch" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="ExternalOffsetVerticaFileRecordBatchextendsFileRecordBatchwithVerticaRecordBatchwithProductwithSerializable" class="anchorToMember"></a><a id="ExternalOffsetVerticaFileRecordBatch:ExternalOffsetVerticaFileRecordBatch" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/adform/streamloader/vertica/ExternalOffsetVerticaFileRecordBatch.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">case class</span></span> <span class="symbol"><a href="ExternalOffsetVerticaFileRecordBatch.html" title="A file based Vertica record batch with an extra pre-generated file ID that is used as a foreign key when storing the records and offsets to separate tables."><span class="name">ExternalOffsetVerticaFileRecordBatch</span></a><span class="params">(<span name="file">file: <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java/io/File.html#java.io.File" name="java.io.File" id="java.io.File" class="extype">File</a></span>, <span name="fileId">fileId: <a href="https://www.scala-lang.org/api/2.13.13/scala/Long.html#scala.Long" name="scala.Long" id="scala.Long" class="extype">Long</a></span>, <span name="recordRanges">recordRanges: <span name="scala.Seq" class="extype">Seq</span>[<a href="../model/StreamRange.html" name="com.adform.streamloader.model.StreamRange" id="com.adform.streamloader.model.StreamRange" class="extype">StreamRange</a>]</span>, <span name="copyStatementTemplate">copyStatementTemplate: <span name="scala.Predef.String" class="extype">String</span></span>)</span><span class="result"> extends <a href="../sink/file/FileRecordBatch.html" name="com.adform.streamloader.sink.file.FileRecordBatch" id="com.adform.streamloader.sink.file.FileRecordBatch" class="extype">FileRecordBatch</a> with <a href="VerticaRecordBatch.html" name="com.adform.streamloader.vertica.VerticaRecordBatch" id="com.adform.streamloader.vertica.VerticaRecordBatch" class="extype">VerticaRecordBatch</a> with <a href="https://www.scala-lang.org/api/2.13.13/scala/Product.html#scala.Product" name="scala.Product" id="scala.Product" class="extype">Product</a> with <span name="scala.Serializable" class="extype">Serializable</span></span></span><p class="shortcomment cmt">A file based Vertica record batch with an extra pre-generated file ID that is used as a foreign key
when storing the records and offsets to separate tables.</p></li><li class="indented0 " name="com.adform.streamloader.vertica.ExternalOffsetVerticaFileStorage" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="ExternalOffsetVerticaFileStorageextendsInDataOffsetBatchStorage[com.adform.streamloader.vertica.ExternalOffsetVerticaFileRecordBatch]withLogging" class="anchorToMember"></a><a id="ExternalOffsetVerticaFileStorage:ExternalOffsetVerticaFileStorage" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/adform/streamloader/vertica/ExternalOffsetVerticaFileStorage.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="ExternalOffsetVerticaFileStorage.html" title="A Vertica file storage implementation that loads data to some table and commits offsets to a separate dedicated offset table."><span class="name">ExternalOffsetVerticaFileStorage</span></a><span class="result"> extends <a href="../sink/batch/storage/InDataOffsetBatchStorage.html" name="com.adform.streamloader.sink.batch.storage.InDataOffsetBatchStorage" id="com.adform.streamloader.sink.batch.storage.InDataOffsetBatchStorage" class="extype">InDataOffsetBatchStorage</a>[<a href="ExternalOffsetVerticaFileRecordBatch.html" name="com.adform.streamloader.vertica.ExternalOffsetVerticaFileRecordBatch" id="com.adform.streamloader.vertica.ExternalOffsetVerticaFileRecordBatch" class="extype">ExternalOffsetVerticaFileRecordBatch</a>] with <a href="../util/Logging.html" name="com.adform.streamloader.util.Logging" id="com.adform.streamloader.util.Logging" class="extype">Logging</a></span></span><p class="shortcomment cmt">A Vertica file storage implementation that loads data to some table and commits offsets to a separate dedicated offset table.</p><div class="fullcomment"><div class="comment cmt"><p>A Vertica file storage implementation that loads data to some table and commits offsets to a separate dedicated offset table.
The commit happens in a single transaction, offsets and data can be joined using a file ID that is stored in both
the data table and the offset table. The offset table contains only ranges of offsets
from each topic partition contained in the file. Its structure should look as follows (all names can be customized):</p><pre>  CREATE TABLE file_offsets (
  _file_id INT NOT NULL,
  _consumer_group VARCHAR(<span class="num">128</span>) NOT NULL,
  _topic VARCHAR(<span class="num">128</span>) NOT NULL,
  _partition INT NOT NULL,
  _start_offset INT NOT NULL,
  _start_watermark TIMESTAMP NOT NULL,
  _end_offset INT NOT NULL,
  _end_watermark TIMESTAMP NOT NULL
);</pre><p>Compared to the <a href="InRowOffsetVerticaFileStorage.html" name="com.adform.streamloader.vertica.InRowOffsetVerticaFileStorage" id="com.adform.streamloader.vertica.InRowOffsetVerticaFileStorage" class="extype">InRowOffsetVerticaFileStorage</a> this implementation does not preserve individual row offsets,
however it is much less expensive in terms of data usage in the licensing scheme, as the license is calculated based
on the size of the data as it occupies converted to strings, ignoring compression and encoding.
Thus while it does not cost much to store the topic name, partition and offset next to each row physically (this data
compresses very well), it can be significant when auditing data usage for licensing.
</p></div></div></li><li class="indented0 " name="com.adform.streamloader.vertica.InRowOffsetVerticaFileRecordBatch" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="InRowOffsetVerticaFileRecordBatchextendsFileRecordBatchwithVerticaRecordBatchwithProductwithSerializable" class="anchorToMember"></a><a id="InRowOffsetVerticaFileRecordBatch:InRowOffsetVerticaFileRecordBatch" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/adform/streamloader/vertica/InRowOffsetVerticaFileRecordBatch.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">case class</span></span> <span class="symbol"><a href="InRowOffsetVerticaFileRecordBatch.html" title=""><span class="name">InRowOffsetVerticaFileRecordBatch</span></a><span class="params">(<span name="file">file: <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java/io/File.html#java.io.File" name="java.io.File" id="java.io.File" class="extype">File</a></span>, <span name="recordRanges">recordRanges: <span name="scala.Seq" class="extype">Seq</span>[<a href="../model/StreamRange.html" name="com.adform.streamloader.model.StreamRange" id="com.adform.streamloader.model.StreamRange" class="extype">StreamRange</a>]</span>, <span name="copyStatementTemplate">copyStatementTemplate: <span name="scala.Predef.String" class="extype">String</span></span>)</span><span class="result"> extends <a href="../sink/file/FileRecordBatch.html" name="com.adform.streamloader.sink.file.FileRecordBatch" id="com.adform.streamloader.sink.file.FileRecordBatch" class="extype">FileRecordBatch</a> with <a href="VerticaRecordBatch.html" name="com.adform.streamloader.vertica.VerticaRecordBatch" id="com.adform.streamloader.vertica.VerticaRecordBatch" class="extype">VerticaRecordBatch</a> with <a href="https://www.scala-lang.org/api/2.13.13/scala/Product.html#scala.Product" name="scala.Product" id="scala.Product" class="extype">Product</a> with <span name="scala.Serializable" class="extype">Serializable</span></span></span></li><li class="indented0 " name="com.adform.streamloader.vertica.InRowOffsetVerticaFileRecordBatcher" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="InRowOffsetVerticaFileRecordBatcher[R]extendsFileRecordBatcher[R,com.adform.streamloader.vertica.InRowOffsetVerticaFileRecordBatch,com.adform.streamloader.vertica.file.VerticaFileBuilder[R]]" class="anchorToMember"></a><a id="InRowOffsetVerticaFileRecordBatcher[R]:InRowOffsetVerticaFileRecordBatcher[R]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/adform/streamloader/vertica/InRowOffsetVerticaFileRecordBatcher.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="InRowOffsetVerticaFileRecordBatcher.html" title="A record batcher that passes records through a custom record formatter and forms batches by writing the resulting records to files using a provided file builder."><span class="name">InRowOffsetVerticaFileRecordBatcher</span></a><span class="tparams">[<span name="R">R</span>]</span><span class="result"> extends <a href="../sink/file/FileRecordBatcher.html" name="com.adform.streamloader.sink.file.FileRecordBatcher" id="com.adform.streamloader.sink.file.FileRecordBatcher" class="extype">FileRecordBatcher</a>[<span name="com.adform.streamloader.vertica.InRowOffsetVerticaFileRecordBatcher.R" class="extype">R</span>, <a href="InRowOffsetVerticaFileRecordBatch.html" name="com.adform.streamloader.vertica.InRowOffsetVerticaFileRecordBatch" id="com.adform.streamloader.vertica.InRowOffsetVerticaFileRecordBatch" class="extype">InRowOffsetVerticaFileRecordBatch</a>, <a href="file/VerticaFileBuilder.html" name="com.adform.streamloader.vertica.file.VerticaFileBuilder" id="com.adform.streamloader.vertica.file.VerticaFileBuilder" class="extype">VerticaFileBuilder</a>[<span name="com.adform.streamloader.vertica.InRowOffsetVerticaFileRecordBatcher.R" class="extype">R</span>]]</span></span><p class="shortcomment cmt">A record batcher that passes records through a custom record formatter and forms batches by writing
the resulting records to files using a provided file builder.</p><div class="fullcomment"><div class="comment cmt"><p>A record batcher that passes records through a custom record formatter and forms batches by writing
the resulting records to files using a provided file builder.
</p></div><dl class="paramcmts block"><dt class="tparam">R</dt><dd class="cmt"><p>Type of records being written to files.</p></dd></dl></div></li><li class="indented0 " name="com.adform.streamloader.vertica.InRowOffsetVerticaFileStorage" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="InRowOffsetVerticaFileStorageextendsInDataOffsetBatchStorage[com.adform.streamloader.vertica.InRowOffsetVerticaFileRecordBatch]withLogging" class="anchorToMember"></a><a id="InRowOffsetVerticaFileStorage:InRowOffsetVerticaFileStorage" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/adform/streamloader/vertica/InRowOffsetVerticaFileStorage.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="InRowOffsetVerticaFileStorage.html" title="A Vertica storage implementation, stores offsets in rows of data."><span class="name">InRowOffsetVerticaFileStorage</span></a><span class="result"> extends <a href="../sink/batch/storage/InDataOffsetBatchStorage.html" name="com.adform.streamloader.sink.batch.storage.InDataOffsetBatchStorage" id="com.adform.streamloader.sink.batch.storage.InDataOffsetBatchStorage" class="extype">InDataOffsetBatchStorage</a>[<a href="InRowOffsetVerticaFileRecordBatch.html" name="com.adform.streamloader.vertica.InRowOffsetVerticaFileRecordBatch" id="com.adform.streamloader.vertica.InRowOffsetVerticaFileRecordBatch" class="extype">InRowOffsetVerticaFileRecordBatch</a>] with <a href="../util/Logging.html" name="com.adform.streamloader.util.Logging" id="com.adform.streamloader.util.Logging" class="extype">Logging</a></span></span><p class="shortcomment cmt">A Vertica storage implementation, stores offsets in rows of data.</p><div class="fullcomment"><div class="comment cmt"><p>A Vertica storage implementation, stores offsets in rows of data.
Queries Vertica upon initialization in order to retrieve committed stream positions.</p><p>Users should keep in mind that the data usage in the licensing audit is calculated treating everything as a string,
thus storing the topic, partition and offset next to each row might be very expensive licensing-wise.
For a cheaper alternative see the <a href="ExternalOffsetVerticaFileStorage.html" name="com.adform.streamloader.vertica.ExternalOffsetVerticaFileStorage" id="com.adform.streamloader.vertica.ExternalOffsetVerticaFileStorage" class="extype">ExternalOffsetVerticaFileStorage</a>.
</p></div></div></li><li class="indented0 " name="com.adform.streamloader.vertica.VerticaLoadMethod" group="Ungrouped" fullComment="no" data-isabs="true" visbl="pub"><a id="VerticaLoadMethodextendsAnyRef" class="anchorToMember"></a><a id="VerticaLoadMethod:VerticaLoadMethod" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/adform/streamloader/vertica/VerticaLoadMethod.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">sealed </span> <span class="kind">trait</span></span> <span class="symbol"><a href="VerticaLoadMethod.html" title=""><span class="name">VerticaLoadMethod</span></a><span class="result"> extends <a href="https://www.scala-lang.org/api/2.13.13/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a></span></span></li><li class="indented0 " name="com.adform.streamloader.vertica.VerticaRecordBatch" group="Ungrouped" fullComment="no" data-isabs="true" visbl="pub"><a id="VerticaRecordBatchextendsRecordBatch" class="anchorToMember"></a><a id="VerticaRecordBatch:VerticaRecordBatch" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/adform/streamloader/vertica/VerticaRecordBatch.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">trait</span></span> <span class="symbol"><a href="VerticaRecordBatch.html" title="A record batch that can be loaded to Vertica, implementers must define a COPY statement generator method."><span class="name">VerticaRecordBatch</span></a><span class="result"> extends <a href="../sink/batch/RecordBatch.html" name="com.adform.streamloader.sink.batch.RecordBatch" id="com.adform.streamloader.sink.batch.RecordBatch" class="extype">RecordBatch</a></span></span><p class="shortcomment cmt">A record batch that can be loaded to Vertica, implementers must define a COPY statement generator method.</p></li></ol></div><div class="values members"><h3>Value Members</h3><ol><li class="indented0 " name="com.adform.streamloader.vertica.ExternalOffsetVerticaFileBatcher" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="ExternalOffsetVerticaFileBatcher" class="anchorToMember"></a><a id="ExternalOffsetVerticaFileBatcher:ExternalOffsetVerticaFileBatcher" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/adform/streamloader/vertica/ExternalOffsetVerticaFileBatcher$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="ExternalOffsetVerticaFileBatcher$.html" title=""><span class="name">ExternalOffsetVerticaFileBatcher</span></a></span></li><li class="indented0 " name="com.adform.streamloader.vertica.ExternalOffsetVerticaFileStorage" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="ExternalOffsetVerticaFileStorage" class="anchorToMember"></a><a id="ExternalOffsetVerticaFileStorage:ExternalOffsetVerticaFileStorage" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/adform/streamloader/vertica/ExternalOffsetVerticaFileStorage$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="ExternalOffsetVerticaFileStorage$.html" title=""><span class="name">ExternalOffsetVerticaFileStorage</span></a></span></li><li class="indented0 " name="com.adform.streamloader.vertica.InRowOffsetVerticaFileRecordBatcher" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="InRowOffsetVerticaFileRecordBatcher" class="anchorToMember"></a><a id="InRowOffsetVerticaFileRecordBatcher:InRowOffsetVerticaFileRecordBatcher" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/adform/streamloader/vertica/InRowOffsetVerticaFileRecordBatcher$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="InRowOffsetVerticaFileRecordBatcher$.html" title=""><span class="name">InRowOffsetVerticaFileRecordBatcher</span></a></span></li><li class="indented0 " name="com.adform.streamloader.vertica.InRowOffsetVerticaFileStorage" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="InRowOffsetVerticaFileStorage" class="anchorToMember"></a><a id="InRowOffsetVerticaFileStorage:InRowOffsetVerticaFileStorage" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/adform/streamloader/vertica/InRowOffsetVerticaFileStorage$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="InRowOffsetVerticaFileStorage$.html" title=""><span class="name">InRowOffsetVerticaFileStorage</span></a></span></li><li class="indented0 " name="com.adform.streamloader.vertica.VerticaLoadMethod" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="VerticaLoadMethod" class="anchorToMember"></a><a id="VerticaLoadMethod:VerticaLoadMethod" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/adform/streamloader/vertica/VerticaLoadMethod$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="VerticaLoadMethod$.html" title=""><span class="name">VerticaLoadMethod</span></a></span></li></ol></div></div><div id="inheritedMembers"></div><div id="groupedMembers"><div name="Ungrouped" class="group"><h3>Ungrouped</h3></div></div></div><div id="tooltip"></div><div id="footer"></div></body></div></div></div></body></html>
