<!DOCTYPE html ><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/><title>stream-loader  - com.adform.streamloader.sink.file</title><meta content="stream - loader - com.adform.streamloader.sink.file" name="description"/><meta content="stream loader com.adform.streamloader.sink.file" name="keywords"/><meta http-equiv="content-type" content="text/html; charset=UTF-8"/><link href="../../../../../lib/index.css" media="screen" type="text/css" rel="stylesheet"/><link href="../../../../../lib/template.css" media="screen" type="text/css" rel="stylesheet"/><link href="../../../../../lib/print.css" media="print" type="text/css" rel="stylesheet"/><link href="../../../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css"/><script type="text/javascript" src="../../../../../lib/jquery.min.js"></script><script type="text/javascript" src="../../../../../lib/index.js"></script><script type="text/javascript" src="../../../../../index.js"></script><script type="text/javascript" src="../../../../../lib/scheduler.js"></script><script type="text/javascript" src="../../../../../lib/template.js"></script><script type="text/javascript">/* this variable can be used by the JS to determine the path to the root document */
var toRoot = '../../../../../';</script></head><body><div id="search"><span id="doc-title">stream-loader<span id="doc-version"></span></span> <span class="close-results"><span class="left">&lt;</span> Back</span><div id="textfilter"><span class="input"><input autocapitalize="none" placeholder="Search" id="index-input" type="text" accesskey="/"/><i class="clear material-icons"></i><i id="search-icon" class="material-icons"></i></span></div></div><div id="search-results"><div id="search-progress"><div id="progress-fill"></div></div><div id="results-content"><div id="entity-results"></div><div id="member-results"></div></div></div><div id="content-scroll-container" style="-webkit-overflow-scrolling: touch;"><div id="content-container" style="-webkit-overflow-scrolling: touch;"><div id="subpackage-spacer"><div id="packages"><h1>Packages</h1><ul><li class="indented0 " name="_root_.root" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="_root_" class="anchorToMember"></a><a id="root:_root_" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../../../index.html" title=""><span class="name">root</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../../../index.html" name="_root_" id="_root_" class="extype">root</a></dd></dl></div></li><li class="indented1 " name="_root_.com" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="com" class="anchorToMember"></a><a id="com:com" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../../index.html" title=""><span class="name">com</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../../../index.html" name="_root_" id="_root_" class="extype">root</a></dd></dl></div></li><li class="indented2 " name="com.adform" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="adform" class="anchorToMember"></a><a id="adform:adform" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../index.html" title=""><span class="name">adform</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../../index.html" name="com" id="com" class="extype">com</a></dd></dl></div></li><li class="indented3 " name="com.adform.streamloader" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="streamloader" class="anchorToMember"></a><a id="streamloader:streamloader" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/streamloader/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../index.html" title="The entry point of the stream loader library is the StreamLoader class, which requires a $KafkaSource and a $Sink."><span class="name">streamloader</span></a></span><p class="shortcomment cmt">The entry point of the stream loader library is the <a href="../../StreamLoader.html" name="com.adform.streamloader.StreamLoader" id="com.adform.streamloader.StreamLoader" class="extype">StreamLoader</a> class, which requires a $KafkaSource and a $Sink.</p><div class="fullcomment"><div class="comment cmt"><p>The entry point of the stream loader library is the <a href="../../StreamLoader.html" name="com.adform.streamloader.StreamLoader" id="com.adform.streamloader.StreamLoader" class="extype">StreamLoader</a> class, which requires a $KafkaSource and a $Sink. Once started
it will subscribe to the provided topics and will start polling and sinking records.
The sink has to be able to persist records and to look up committed offsets (technically this is optional, but without it there would
be no way to provide any delivery guarantees). A large class of sinks are batch based, implemented as $RecordBatchingSink.
This sink accumulate batches of records using some $RecordBatcher and once ready, stores them to some underlying $RecordBatchStorage.
A common type of batch is file based, i.e. a batcher might write records to a temporary file and once the file is full
the sink commits the file to some underlying storage, such as a database or a distributed file system like HDFS.</p><p>A sketch of the class hierarchy illustrating the main classes and interfaces can be seen below.</p><p><br />
<object type="image/svg+xml" data="../../../diagrams/core_class_hierarchy.svg" style="display: block; margin: auto"></object>
<br /></p><p>For concrete storage implementations see the <a href="../../clickhouse/index.html" name="com.adform.streamloader.clickhouse" id="com.adform.streamloader.clickhouse" class="extype">clickhouse</a>, <a href="../../hadoop/index.html" name="com.adform.streamloader.hadoop" id="com.adform.streamloader.hadoop" class="extype">hadoop</a>, <a href="../../s3/index.html" name="com.adform.streamloader.s3" id="com.adform.streamloader.s3" class="extype">s3</a> and <a href="../../vertica/index.html" name="com.adform.streamloader.vertica" id="com.adform.streamloader.vertica" class="extype">vertica</a> packages.
They also contain more file builder implementations than just the $CsvFileBuilder included in the core library.</p></div><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../index.html" name="com.adform" id="com.adform" class="extype">adform</a></dd></dl></div></li><li class="indented4 " name="com.adform.streamloader.sink" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="sink" class="anchorToMember"></a><a id="sink:sink" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/streamloader/sink/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../index.html" title=""><span class="name">sink</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../index.html" name="com.adform.streamloader" id="com.adform.streamloader" class="extype">streamloader</a></dd></dl></div></li><li class="indented5 " name="com.adform.streamloader.sink.batch" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="batch" class="anchorToMember"></a><a id="batch:batch" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/streamloader/sink/batch/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../batch/index.html" title=""><span class="name">batch</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="com.adform.streamloader.sink" id="com.adform.streamloader.sink" class="extype">sink</a></dd></dl></div></li><li class="indented5 " name="com.adform.streamloader.sink.encoding" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="encoding" class="anchorToMember"></a><a id="encoding:encoding" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/streamloader/sink/encoding/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../encoding/index.html" title=""><span class="name">encoding</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="com.adform.streamloader.sink" id="com.adform.streamloader.sink" class="extype">sink</a></dd></dl></div></li><li class="indented5 current" name="com.adform.streamloader.sink.file" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="file" class="anchorToMember"></a><a id="file:file" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/streamloader/sink/file/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><span class="name">file</span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="com.adform.streamloader.sink" id="com.adform.streamloader.sink" class="extype">sink</a></dd></dl></div></li><li class="current-entities indented5"><span class="separator"></span> <a href="BaseFileBuilder.html" title="Base file builder implementation that provides record counting and basic clean up." class="class"></a><a href="BaseFileBuilder.html" title="Base file builder implementation that provides record counting and basic clean up.">BaseFileBuilder</a></li><li class="current-entities indented5"><a href="Compression$.html" title="" class="object"></a> <a href="Compression.html" title="Common compression type enumeration." class="trait"></a><a href="Compression.html" title="Common compression type enumeration.">Compression</a></li><li class="current-entities indented5"><span class="separator"></span> <a href="CountingOutputStream.html" title="An OutputStream wrapper that also counts the number of bytes written." class="class"></a><a href="CountingOutputStream.html" title="An OutputStream wrapper that also counts the number of bytes written.">CountingOutputStream</a></li><li class="current-entities indented5"><span class="separator"></span> <a href="FileBuilder.html" title="A data file builder that keeps adding records and returns the resulting file after flushing to disk." class="trait"></a><a href="FileBuilder.html" title="A data file builder that keeps adding records and returns the resulting file after flushing to disk.">FileBuilder</a></li><li class="current-entities indented5"><span class="separator"></span> <a href="FileBuilderFactory.html" title="A FileBuilder instance producer." class="trait"></a><a href="FileBuilderFactory.html" title="A FileBuilder instance producer.">FileBuilderFactory</a></li><li class="current-entities indented5"><a href="FileCommitStrategy$.html" title="" class="object"></a> <a href="FileCommitStrategy.html" title="A strategy for determining when files should be closed and committed to storage." class="trait"></a><a href="FileCommitStrategy.html" title="A strategy for determining when files should be closed and committed to storage.">FileCommitStrategy</a></li><li class="current-entities indented5"><span class="separator"></span> <a href="FilePathFormatter.html" title="Base trait used to construct file paths when storing files to persistent storages." class="trait"></a><a href="FilePathFormatter.html" title="Base trait used to construct file paths when storing files to persistent storages.">FilePathFormatter</a></li><li class="current-entities indented5"><span class="separator"></span> <a href="FileRecordBatch.html" title="Base trait for file based record batches." class="trait"></a><a href="FileRecordBatch.html" title="Base trait for file based record batches.">FileRecordBatch</a></li><li class="current-entities indented5"><span class="separator"></span> <a href="FileRecordBatcher.html" title="A record batcher that passes records through a custom record formatter and forms batches by writing the formatted records to files using a provided file builder." class="class"></a><a href="FileRecordBatcher.html" title="A record batcher that passes records through a custom record formatter and forms batches by writing the formatted records to files using a provided file builder.">FileRecordBatcher</a></li><li class="current-entities indented5"><span class="separator"></span> <a href="FileStats.html" title="" class="class"></a><a href="FileStats.html" title="">FileStats</a></li><li class="current-entities indented5"><a href="MultiFileCommitStrategy$.html" title="" class="object"></a> <a href="MultiFileCommitStrategy.html" title="Trait for defining a strategy for completing a multi-file batch." class="trait"></a><a href="MultiFileCommitStrategy.html" title="Trait for defining a strategy for completing a multi-file batch.">MultiFileCommitStrategy</a></li><li class="current-entities indented5"><span class="separator"></span> <a href="PartitionedFileRecordBatch.html" title="A record batch that is partitioned by some value, e.g." class="class"></a><a href="PartitionedFileRecordBatch.html" title="A record batch that is partitioned by some value, e.g.">PartitionedFileRecordBatch</a></li><li class="current-entities indented5"><a href="PartitioningFileRecordBatcher$.html" title="" class="object"></a> <a href="PartitioningFileRecordBatcher.html" title="A record batcher that distributes records into user defined partitions using a given partitioner and writes them to separate files per partition." class="class"></a><a href="PartitioningFileRecordBatcher.html" title="A record batcher that distributes records into user defined partitions using a given partitioner and writes them to separate files per partition.">PartitioningFileRecordBatcher</a></li><li class="current-entities indented5"><span class="separator"></span> <a href="SingleFileRecordBatch.html" title="" class="class"></a><a href="SingleFileRecordBatch.html" title="">SingleFileRecordBatch</a></li><li class="current-entities indented5"><span class="separator"></span> <a href="StreamFileBuilder.html" title="A file builder based on FileOutputStream." class="class"></a><a href="StreamFileBuilder.html" title="A file builder based on FileOutputStream.">StreamFileBuilder</a></li><li class="current-entities indented5"><span class="separator"></span> <a href="TimePartitioningFilePathFormatter.html" title="Formats file paths placing them into time-based directories constructed by formatting the partition using a given time formatter pattern, e.g." class="class"></a><a href="TimePartitioningFilePathFormatter.html" title="Formats file paths placing them into time-based directories constructed by formatting the partition using a given time formatter pattern, e.g.">TimePartitioningFilePathFormatter</a></li></ul></div></div><div id="content"><body class="package value"><div id="definition"><div class="big-circle package">p</div><p id="owner"><a href="../../../../index.html" name="com" id="com" class="extype">com</a>.<a href="../../../index.html" name="com.adform" id="com.adform" class="extype">adform</a>.<a href="../../index.html" name="com.adform.streamloader" id="com.adform.streamloader" class="extype">streamloader</a>.<a href="../index.html" name="com.adform.streamloader.sink" id="com.adform.streamloader.sink" class="extype">sink</a></p><h1>file<span class="permalink"><a href="../../../../../com/adform/streamloader/sink/file/index.html" title="Permalink"><i class="material-icons"></i></a></span></h1></div><h4 id="signature" class="signature"><span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><span class="name">file</span></span></h4><div id="comment" class="fullcommenttop"></div><div id="mbrsel"><div class="toggle"></div><div id="memberfilter"><i class="material-icons arrow"></i><span class="input"><input placeholder="Filter all members" id="mbrsel-input" type="text" accesskey="/"/></span><i class="clear material-icons"></i></div><div id="filterby"><div id="order"><span class="filtertype">Ordering</span><ol><li class="alpha in"><span>Alphabetic</span></li></ol></div><div id="visbl"><span class="filtertype">Visibility</span><ol><li class="public in"><span>Public</span></li><li class="protected out"><span>Protected</span></li></ol></div></div></div><div id="template"><div id="allMembers"><div id="types" class="types members"><h3>Type Members</h3><ol><li class="indented0 " name="com.adform.streamloader.sink.file.BaseFileBuilder" group="Ungrouped" fullComment="yes" data-isabs="true" visbl="pub"><a id="BaseFileBuilder[-R]extendsFileBuilder[R]" class="anchorToMember"></a><a id="BaseFileBuilder[-R]:BaseFileBuilder[R]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/streamloader/sink/file/BaseFileBuilder.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">abstract </span> <span class="kind">class</span></span> <span class="symbol"><a href="BaseFileBuilder.html" title="Base file builder implementation that provides record counting and basic clean up."><span class="name">BaseFileBuilder</span></a><span class="tparams">[<span name="R">-R</span>]</span><span class="result"> extends <a href="FileBuilder.html" name="com.adform.streamloader.sink.file.FileBuilder" id="com.adform.streamloader.sink.file.FileBuilder" class="extype">FileBuilder</a>[<span name="com.adform.streamloader.sink.file.BaseFileBuilder.R" class="extype">R</span>]</span></span><p class="shortcomment cmt">Base file builder implementation that provides record counting and basic clean up.</p><div class="fullcomment"><div class="comment cmt"><p>Base file builder implementation that provides record counting and basic clean up.
</p></div><dl class="paramcmts block"><dt class="tparam">R</dt><dd class="cmt"><p>type of the records being added.</p></dd></dl></div></li><li class="indented0 " name="com.adform.streamloader.sink.file.Compression" group="Ungrouped" fullComment="no" data-isabs="true" visbl="pub"><a id="CompressionextendsAnyRef" class="anchorToMember"></a><a id="Compression:Compression" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/streamloader/sink/file/Compression.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">sealed </span> <span class="kind">trait</span></span> <span class="symbol"><a href="Compression.html" title="Common compression type enumeration."><span class="name">Compression</span></a><span class="result"> extends <a href="https://www.scala-lang.org/api/2.13.17/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a></span></span><p class="shortcomment cmt">Common compression type enumeration.</p></li><li class="indented0 " name="com.adform.streamloader.sink.file.CountingOutputStream" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="CountingOutputStreamextendsOutputStream" class="anchorToMember"></a><a id="CountingOutputStream:CountingOutputStream" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/streamloader/sink/file/CountingOutputStream.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="CountingOutputStream.html" title="An OutputStream wrapper that also counts the number of bytes written."><span class="name">CountingOutputStream</span></a><span class="result"> extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/OutputStream.html#java.io.OutputStream" name="java.io.OutputStream" id="java.io.OutputStream" class="extype">OutputStream</a></span></span><p class="shortcomment cmt">An <code>OutputStream</code> wrapper that also counts the number of bytes written.</p></li><li class="indented0 " name="com.adform.streamloader.sink.file.FileBuilder" group="Ungrouped" fullComment="yes" data-isabs="true" visbl="pub"><a id="FileBuilder[-R]extendsAnyRef" class="anchorToMember"></a><a id="FileBuilder[-R]:FileBuilder[R]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/streamloader/sink/file/FileBuilder.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">trait</span></span> <span class="symbol"><a href="FileBuilder.html" title="A data file builder that keeps adding records and returns the resulting file after flushing to disk."><span class="name">FileBuilder</span></a><span class="tparams">[<span name="R">-R</span>]</span><span class="result"> extends <a href="https://www.scala-lang.org/api/2.13.17/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a></span></span><p class="shortcomment cmt">A data file builder that keeps adding records and returns the resulting file after flushing to disk.</p><div class="fullcomment"><div class="comment cmt"><p>A data file builder that keeps adding records and returns the resulting file after flushing to disk.
</p></div><dl class="paramcmts block"><dt class="tparam">R</dt><dd class="cmt"><p>type of the records being added.</p></dd></dl></div></li><li class="indented0 " name="com.adform.streamloader.sink.file.FileBuilderFactory" group="Ungrouped" fullComment="yes" data-isabs="true" visbl="pub"><a id="FileBuilderFactory[-R,FB&lt;:com.adform.streamloader.sink.file.FileBuilder[R]]extendsAnyRef" class="anchorToMember"></a><a id="FileBuilderFactory[-R,FB&lt;:FileBuilder[R]]:FileBuilderFactory[R,FB]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/streamloader/sink/file/FileBuilderFactory.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">trait</span></span> <span class="symbol"><a href="FileBuilderFactory.html" title="A FileBuilder instance producer."><span class="name">FileBuilderFactory</span></a><span class="tparams">[<span name="R">-R</span>, <span name="FB">FB &lt;: <a href="FileBuilder.html" name="com.adform.streamloader.sink.file.FileBuilder" id="com.adform.streamloader.sink.file.FileBuilder" class="extype">FileBuilder</a>[<span name="com.adform.streamloader.sink.file.FileBuilderFactory.R" class="extype">R</span>]</span>]</span><span class="result"> extends <a href="https://www.scala-lang.org/api/2.13.17/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a></span></span><p class="shortcomment cmt">A <a href="FileBuilder.html" name="com.adform.streamloader.sink.file.FileBuilder" id="com.adform.streamloader.sink.file.FileBuilder" class="extype">FileBuilder</a> instance producer.</p><div class="fullcomment"><div class="comment cmt"><p>A <a href="FileBuilder.html" name="com.adform.streamloader.sink.file.FileBuilder" id="com.adform.streamloader.sink.file.FileBuilder" class="extype">FileBuilder</a> instance producer.
</p></div><dl class="paramcmts block"><dt class="tparam">R</dt><dd class="cmt"><p>type of the records written to files being built.</p></dd><dt class="tparam">FB</dt><dd class="cmt"><p>type of FileBuilder instances produced.</p></dd></dl></div></li><li class="indented0 " name="com.adform.streamloader.sink.file.FileCommitStrategy" group="Ungrouped" fullComment="no" data-isabs="true" visbl="pub"><a id="FileCommitStrategyextendsAnyRef" class="anchorToMember"></a><a id="FileCommitStrategy:FileCommitStrategy" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/streamloader/sink/file/FileCommitStrategy.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">trait</span></span> <span class="symbol"><a href="FileCommitStrategy.html" title="A strategy for determining when files should be closed and committed to storage."><span class="name">FileCommitStrategy</span></a><span class="result"> extends <a href="https://www.scala-lang.org/api/2.13.17/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a></span></span><p class="shortcomment cmt">A strategy for determining when files should be closed and committed to storage.</p></li><li class="indented0 " name="com.adform.streamloader.sink.file.FilePathFormatter" group="Ungrouped" fullComment="no" data-isabs="true" visbl="pub"><a id="FilePathFormatter[-P]extendsAnyRef" class="anchorToMember"></a><a id="FilePathFormatter[-P]:FilePathFormatter[P]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/streamloader/sink/file/FilePathFormatter.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">trait</span></span> <span class="symbol"><a href="FilePathFormatter.html" title="Base trait used to construct file paths when storing files to persistent storages."><span class="name">FilePathFormatter</span></a><span class="tparams">[<span name="P">-P</span>]</span><span class="result"> extends <a href="https://www.scala-lang.org/api/2.13.17/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a></span></span><p class="shortcomment cmt">Base trait used to construct file paths when storing files to persistent storages.</p></li><li class="indented0 " name="com.adform.streamloader.sink.file.FileRecordBatch" group="Ungrouped" fullComment="no" data-isabs="true" visbl="pub"><a id="FileRecordBatchextendsRecordBatch" class="anchorToMember"></a><a id="FileRecordBatch:FileRecordBatch" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/streamloader/sink/file/FileRecordBatch.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">trait</span></span> <span class="symbol"><a href="FileRecordBatch.html" title="Base trait for file based record batches."><span class="name">FileRecordBatch</span></a><span class="result"> extends <a href="../batch/RecordBatch.html" name="com.adform.streamloader.sink.batch.RecordBatch" id="com.adform.streamloader.sink.batch.RecordBatch" class="extype">RecordBatch</a></span></span><p class="shortcomment cmt">Base trait for file based record batches.</p></li><li class="indented0 " name="com.adform.streamloader.sink.file.FileRecordBatcher" group="Ungrouped" fullComment="yes" data-isabs="true" visbl="pub"><a id="FileRecordBatcher[R,+B&lt;:com.adform.streamloader.sink.file.FileRecordBatch,FB&lt;:com.adform.streamloader.sink.file.FileBuilder[R]]extendsRecordBatcher[B]" class="anchorToMember"></a><a id="FileRecordBatcher[R,+B&lt;:FileRecordBatch,FB&lt;:FileBuilder[R]]:FileRecordBatcher[R,B,FB]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/streamloader/sink/file/FileRecordBatcher.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">abstract </span> <span class="kind">class</span></span> <span class="symbol"><a href="FileRecordBatcher.html" title="A record batcher that passes records through a custom record formatter and forms batches by writing the formatted records to files using a provided file builder."><span class="name">FileRecordBatcher</span></a><span class="tparams">[<span name="R">R</span>, <span name="B">+B &lt;: <a href="FileRecordBatch.html" name="com.adform.streamloader.sink.file.FileRecordBatch" id="com.adform.streamloader.sink.file.FileRecordBatch" class="extype">FileRecordBatch</a></span>, <span name="FB">FB &lt;: <a href="FileBuilder.html" name="com.adform.streamloader.sink.file.FileBuilder" id="com.adform.streamloader.sink.file.FileBuilder" class="extype">FileBuilder</a>[<span name="com.adform.streamloader.sink.file.FileRecordBatcher.R" class="extype">R</span>]</span>]</span><span class="result"> extends <a href="../batch/RecordBatcher.html" name="com.adform.streamloader.sink.batch.RecordBatcher" id="com.adform.streamloader.sink.batch.RecordBatcher" class="extype">RecordBatcher</a>[<span name="com.adform.streamloader.sink.file.FileRecordBatcher.B" class="extype">B</span>]</span></span><p class="shortcomment cmt">A record batcher that passes records through a custom record formatter and forms batches by writing
the formatted records to files using a provided file builder.</p><div class="fullcomment"><div class="comment cmt"><p>A record batcher that passes records through a custom record formatter and forms batches by writing
the formatted records to files using a provided file builder.
</p></div><dl class="paramcmts block"><dt class="tparam">R</dt><dd class="cmt"><p>Type of records being written to files.</p></dd><dt class="tparam">B</dt><dd class="cmt"><p>Type of record batches being built.</p></dd><dt class="tparam">FB</dt><dd class="cmt"><p>Type of file builder being used.</p></dd></dl></div></li><li class="indented0 " name="com.adform.streamloader.sink.file.FileStats" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="FileStatsextendsProductwithSerializable" class="anchorToMember"></a><a id="FileStats:FileStats" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/streamloader/sink/file/FileStats.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">case class</span></span> <span class="symbol"><a href="FileStats.html" title=""><span class="name">FileStats</span></a><span class="params">(<span name="fileOpenDuration">fileOpenDuration: <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Duration.html#java.time.Duration" name="java.time.Duration" id="java.time.Duration" class="extype">Duration</a></span>, <span name="fileSize">fileSize: <a href="https://www.scala-lang.org/api/2.13.17/scala/Long.html#scala.Long" name="scala.Long" id="scala.Long" class="extype">Long</a></span>, <span name="recordsWritten">recordsWritten: <a href="https://www.scala-lang.org/api/2.13.17/scala/Long.html#scala.Long" name="scala.Long" id="scala.Long" class="extype">Long</a></span>)</span><span class="result"> extends <a href="https://www.scala-lang.org/api/2.13.17/scala/Product.html#scala.Product" name="scala.Product" id="scala.Product" class="extype">Product</a> with <span name="scala.Serializable" class="extype">Serializable</span></span></span></li><li class="indented0 " name="com.adform.streamloader.sink.file.MultiFileCommitStrategy" group="Ungrouped" fullComment="no" data-isabs="true" visbl="pub"><a id="MultiFileCommitStrategyextendsAnyRef" class="anchorToMember"></a><a id="MultiFileCommitStrategy:MultiFileCommitStrategy" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/streamloader/sink/file/MultiFileCommitStrategy.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">trait</span></span> <span class="symbol"><a href="MultiFileCommitStrategy.html" title="Trait for defining a strategy for completing a multi-file batch."><span class="name">MultiFileCommitStrategy</span></a><span class="result"> extends <a href="https://www.scala-lang.org/api/2.13.17/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a></span></span><p class="shortcomment cmt">Trait for defining a strategy for completing a multi-file batch.</p></li><li class="indented0 " name="com.adform.streamloader.sink.file.PartitionedFileRecordBatch" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="PartitionedFileRecordBatch[P,+B&lt;:com.adform.streamloader.sink.file.FileRecordBatch]extendsRecordBatchwithProductwithSerializable" class="anchorToMember"></a><a id="PartitionedFileRecordBatch[P,+B&lt;:FileRecordBatch]:PartitionedFileRecordBatch[P,B]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/streamloader/sink/file/PartitionedFileRecordBatch.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">case class</span></span> <span class="symbol"><a href="PartitionedFileRecordBatch.html" title="A record batch that is partitioned by some value, e.g."><span class="name">PartitionedFileRecordBatch</span></a><span class="tparams">[<span name="P">P</span>, <span name="B">+B &lt;: <a href="FileRecordBatch.html" name="com.adform.streamloader.sink.file.FileRecordBatch" id="com.adform.streamloader.sink.file.FileRecordBatch" class="extype">FileRecordBatch</a></span>]</span><span class="params">(<span name="partitionBatches">partitionBatches: <span name="scala.Predef.Map" class="extype">Map</span>[<span name="com.adform.streamloader.sink.file.PartitionedFileRecordBatch.P" class="extype">P</span>, <span name="com.adform.streamloader.sink.file.PartitionedFileRecordBatch.B" class="extype">B</span>]</span>, <span name="recordRanges">recordRanges: <span name="scala.Seq" class="extype">Seq</span>[<a href="../../model/StreamRange.html" name="com.adform.streamloader.model.StreamRange" id="com.adform.streamloader.model.StreamRange" class="extype">StreamRange</a>]</span>)</span><span class="result"> extends <a href="../batch/RecordBatch.html" name="com.adform.streamloader.sink.batch.RecordBatch" id="com.adform.streamloader.sink.batch.RecordBatch" class="extype">RecordBatch</a> with <a href="https://www.scala-lang.org/api/2.13.17/scala/Product.html#scala.Product" name="scala.Product" id="scala.Product" class="extype">Product</a> with <span name="scala.Serializable" class="extype">Serializable</span></span></span><p class="shortcomment cmt">A record batch that is partitioned by some value, e.g.</p><div class="fullcomment"><div class="comment cmt"><p>A record batch that is partitioned by some value, e.g. by date.
</p></div><dl class="paramcmts block"><dt class="tparam">P</dt><dd class="cmt"><p>Type of the partitioning information, e.g. date or a tuple of client/country, etc.</p></dd><dt class="tparam">B</dt><dd class="cmt"><p>Type of the file record batches.</p></dd><dt class="param">partitionBatches</dt><dd class="cmt"><p>Mapping of file record batch per partition.</p></dd><dt class="param">recordRanges</dt><dd class="cmt"><p>The overall record ranges contained in the batch.</p></dd></dl></div></li><li class="indented0 " name="com.adform.streamloader.sink.file.PartitioningFileRecordBatcher" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="PartitioningFileRecordBatcher[P,R]extendsRecordBatcher[com.adform.streamloader.sink.file.PartitionedFileRecordBatch[P,com.adform.streamloader.sink.file.SingleFileRecordBatch]]" class="anchorToMember"></a><a id="PartitioningFileRecordBatcher[P,R]:PartitioningFileRecordBatcher[P,R]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/streamloader/sink/file/PartitioningFileRecordBatcher.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="PartitioningFileRecordBatcher.html" title="A record batcher that distributes records into user defined partitions using a given partitioner and writes them to separate files per partition."><span class="name">PartitioningFileRecordBatcher</span></a><span class="tparams">[<span name="P">P</span>, <span name="R">R</span>]</span><span class="result"> extends <a href="../batch/RecordBatcher.html" name="com.adform.streamloader.sink.batch.RecordBatcher" id="com.adform.streamloader.sink.batch.RecordBatcher" class="extype">RecordBatcher</a>[<a href="PartitionedFileRecordBatch.html" name="com.adform.streamloader.sink.file.PartitionedFileRecordBatch" id="com.adform.streamloader.sink.file.PartitionedFileRecordBatch" class="extype">PartitionedFileRecordBatch</a>[<span name="com.adform.streamloader.sink.file.PartitioningFileRecordBatcher.P" class="extype">P</span>, <a href="SingleFileRecordBatch.html" name="com.adform.streamloader.sink.file.SingleFileRecordBatch" id="com.adform.streamloader.sink.file.SingleFileRecordBatch" class="extype">SingleFileRecordBatch</a>]]</span></span><p class="shortcomment cmt">A record batcher that distributes records into user defined partitions using a given partitioner
and writes them to separate files per partition.</p><div class="fullcomment"><div class="comment cmt"><p>A record batcher that distributes records into user defined partitions using a given partitioner
and writes them to separate files per partition.
</p></div><dl class="paramcmts block"><dt class="tparam">P</dt><dd class="cmt"><p>Type of the partition values.</p></dd><dt class="tparam">R</dt><dd class="cmt"><p>Type of formatted records.</p></dd></dl></div></li><li class="indented0 " name="com.adform.streamloader.sink.file.SingleFileRecordBatch" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="SingleFileRecordBatchextendsFileRecordBatchwithProductwithSerializable" class="anchorToMember"></a><a id="SingleFileRecordBatch:SingleFileRecordBatch" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/streamloader/sink/file/SingleFileRecordBatch.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">case class</span></span> <span class="symbol"><a href="SingleFileRecordBatch.html" title=""><span class="name">SingleFileRecordBatch</span></a><span class="params">(<span name="file">file: <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/File.html#java.io.File" name="java.io.File" id="java.io.File" class="extype">File</a></span>, <span name="recordRanges">recordRanges: <span name="scala.Seq" class="extype">Seq</span>[<a href="../../model/StreamRange.html" name="com.adform.streamloader.model.StreamRange" id="com.adform.streamloader.model.StreamRange" class="extype">StreamRange</a>]</span>)</span><span class="result"> extends <a href="FileRecordBatch.html" name="com.adform.streamloader.sink.file.FileRecordBatch" id="com.adform.streamloader.sink.file.FileRecordBatch" class="extype">FileRecordBatch</a> with <a href="https://www.scala-lang.org/api/2.13.17/scala/Product.html#scala.Product" name="scala.Product" id="scala.Product" class="extype">Product</a> with <span name="scala.Serializable" class="extype">Serializable</span></span></span></li><li class="indented0 " name="com.adform.streamloader.sink.file.StreamFileBuilder" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="StreamFileBuilder[-R]extendsBaseFileBuilder[R]withLogging" class="anchorToMember"></a><a id="StreamFileBuilder[-R]:StreamFileBuilder[R]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/streamloader/sink/file/StreamFileBuilder.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="StreamFileBuilder.html" title="A file builder based on FileOutputStream."><span class="name">StreamFileBuilder</span></a><span class="tparams">[<span name="R">-R</span>]</span><span class="result"> extends <a href="BaseFileBuilder.html" name="com.adform.streamloader.sink.file.BaseFileBuilder" id="com.adform.streamloader.sink.file.BaseFileBuilder" class="extype">BaseFileBuilder</a>[<span name="com.adform.streamloader.sink.file.StreamFileBuilder.R" class="extype">R</span>] with <a href="../../util/Logging.html" name="com.adform.streamloader.util.Logging" id="com.adform.streamloader.util.Logging" class="extype">Logging</a></span></span><p class="shortcomment cmt">A file builder based on <code>FileOutputStream</code>.</p><div class="fullcomment"><div class="comment cmt"><p>A file builder based on <code>FileOutputStream</code>.
</p></div><dl class="paramcmts block"><dt class="tparam">R</dt><dd class="cmt"><p>type of the records written to files being built.</p></dd></dl></div></li><li class="indented0 " name="com.adform.streamloader.sink.file.TimePartitioningFilePathFormatter" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="TimePartitioningFilePathFormatter[P]extendsFilePathFormatter[P]" class="anchorToMember"></a><a id="TimePartitioningFilePathFormatter[P]:TimePartitioningFilePathFormatter[P]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/streamloader/sink/file/TimePartitioningFilePathFormatter.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="TimePartitioningFilePathFormatter.html" title="Formats file paths placing them into time-based directories constructed by formatting the partition using a given time formatter pattern, e.g."><span class="name">TimePartitioningFilePathFormatter</span></a><span class="tparams">[<span name="P">P</span>]</span><span class="result"> extends <a href="FilePathFormatter.html" name="com.adform.streamloader.sink.file.FilePathFormatter" id="com.adform.streamloader.sink.file.FilePathFormatter" class="extype">FilePathFormatter</a>[<span name="com.adform.streamloader.sink.file.TimePartitioningFilePathFormatter.P" class="extype">P</span>]</span></span><p class="shortcomment cmt">Formats file paths placing them into time-based directories constructed by formatting the partition using
a given time formatter pattern, e.g.</p><div class="fullcomment"><div class="comment cmt"><p>Formats file paths placing them into time-based directories constructed by formatting the partition using
a given time formatter pattern, e.g. "/dt=2020-06-01/" etc.
The filename itself is a UUID based on the hash of the ranges contained, for reproducibility.
</p></div></div></li></ol></div><div class="values members"><h3>Value Members</h3><ol><li class="indented0 " name="com.adform.streamloader.sink.file.Compression" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="Compression" class="anchorToMember"></a><a id="Compression:Compression" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/streamloader/sink/file/Compression$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="Compression$.html" title=""><span class="name">Compression</span></a></span></li><li class="indented0 " name="com.adform.streamloader.sink.file.FileCommitStrategy" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="FileCommitStrategy" class="anchorToMember"></a><a id="FileCommitStrategy:FileCommitStrategy" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/streamloader/sink/file/FileCommitStrategy$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="FileCommitStrategy$.html" title=""><span class="name">FileCommitStrategy</span></a></span></li><li class="indented0 " name="com.adform.streamloader.sink.file.MultiFileCommitStrategy" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="MultiFileCommitStrategy" class="anchorToMember"></a><a id="MultiFileCommitStrategy:MultiFileCommitStrategy" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/streamloader/sink/file/MultiFileCommitStrategy$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="MultiFileCommitStrategy$.html" title=""><span class="name">MultiFileCommitStrategy</span></a></span></li><li class="indented0 " name="com.adform.streamloader.sink.file.PartitioningFileRecordBatcher" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="PartitioningFileRecordBatcher" class="anchorToMember"></a><a id="PartitioningFileRecordBatcher:PartitioningFileRecordBatcher" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../com/adform/streamloader/sink/file/PartitioningFileRecordBatcher$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="PartitioningFileRecordBatcher$.html" title=""><span class="name">PartitioningFileRecordBatcher</span></a></span></li></ol></div></div><div id="inheritedMembers"></div><div id="groupedMembers"><div name="Ungrouped" class="group"><h3>Ungrouped</h3></div></div></div><div id="tooltip"></div><div id="footer"></div></body></div></div></div></body></html>
